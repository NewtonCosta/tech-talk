<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Web & Geolocation</title> <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script> <script src="https://code.jquery.com/jquery-1.12.4.js"></script> <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"> <link rel="stylesheet" href="./css/style.css"> <style>#floating-panel{background-color: #fff; border: 1px solid #999; left: 25%; padding: 5px; position: absolute; top: 10px; z-index: 5;}</style> </head><body> <div class="topnav"> <a style="background-color: #6C63FF; color: #fff;" href="#">Example 3</a> <a href="example2.html">Example 2</a> <a href="example1.html">Exemplos 1</a> <a href="index.html">Home</a> </div><div class="wrapper"> <div class="page-content"> <h2> Maps Javascript API - Tiles and Coordinates</h2> </div><div class="wrapper centered"> <div id="map"> </div></div><div class="footer"> <p>Copyright &copy; Newton Costa 2020</p></div><script>function initMap(){const lubango=new google.maps.LatLng(-14.9105476, 13.493481); const map=new google.maps.Map(document.getElementById("map"),{center: lubango, zoom: 8}); const coordInfoWindow=new google.maps.InfoWindow(); coordInfoWindow.setContent(createInfoWindowContent(lubango, map.getZoom())); coordInfoWindow.setPosition(lubango); coordInfoWindow.open(map); map.addListener("zoom_changed", ()=>{coordInfoWindow.setContent(createInfoWindowContent(lubango, map.getZoom())); coordInfoWindow.open(map);});}const TILE_SIZE=256;function createInfoWindowContent(latLng, zoom){const scale=1 << zoom; const worldCoordinate=project(latLng); const pixelCoordinate=new google.maps.Point( Math.floor(worldCoordinate.x * scale), Math.floor(worldCoordinate.y * scale) ); const tileCoordinate=new google.maps.Point( Math.floor((worldCoordinate.x * scale) / TILE_SIZE), Math.floor((worldCoordinate.y * scale) / TILE_SIZE) ); return [ "lubango, HuÃ­la", "LatLng: " + latLng, "Zoom level: " + zoom, "World Coordinate: " + worldCoordinate, "Pixel Coordinate: " + pixelCoordinate, "Tile Coordinate: " + tileCoordinate].join("<br>");}// The mapping between latitude, longitude and pixels is defined by the web// mercator projection.function project(latLng){let siny=Math.sin((latLng.lat() * Math.PI) / 180); // Truncating to 0.9999 effectively limits latitude to 89.189. This is // about a third of a tile past the edge of the world tile. siny=Math.min(Math.max(siny, -0.9999), 0.9999); return new google.maps.Point( TILE_SIZE * (0.5 + latLng.lng() / 360), TILE_SIZE * (0.5 - Math.log((1 + siny) / (1 - siny)) / (4 * Math.PI)) );}</script> <script src="./script/js.js"></script> </body></html>